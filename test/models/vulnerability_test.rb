require 'test_helper'

class VulnerabilityTest < ActiveSupport::TestCase
  def setup
    @refugee = create(:refugee2)
    @type = create(:vulnerability_type)
    @vulnerability = Vulnerability.new(refugee: @refugee, type: @type)
    @vulnerability.save
  end

  test '避難者を呼び出せる' do
    assert_equal @refugee, @vulnerability.refugee
  end

  test 'タイプを呼び出せる' do
    assert_equal @type, @vulnerability.type
  end

  test '避難者から見える' do
    assert_includes @refugee.vulnerabilities, @vulnerability
  end
end
